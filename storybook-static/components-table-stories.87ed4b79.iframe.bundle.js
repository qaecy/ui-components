(self.webpackChunkui_components=self.webpackChunkui_components||[]).push([[416],{"./projects/cue-ui/src/lib/components/icon-menu.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"@import url(https://fonts.googleapis.com/icon?family=Material+Icons);"]),___CSS_LOADER_EXPORT___.push([module.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap);"]),___CSS_LOADER_EXPORT___.push([module.id,"@import url(https://unpkg.com/tippy.js/dist/tippy.css);"]),___CSS_LOADER_EXPORT___.push([module.id,"@import url(https://unpkg.com/tippy.js/themes/light.css);"]),___CSS_LOADER_EXPORT___.push([module.id,"@import url(https://unpkg.com/tippy.js/animations/shift-away.css);"]),___CSS_LOADER_EXPORT___.push([module.id,".container {\n  font-family: var(--cue-font-family);\n  position: relative;\n  z-index: 100;\n}\n\n.btn {\n  position: absolute;\n  display: flex;\n  z-index: 100;\n  gap: 1rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/cue-ui/src/lib/components/icon-menu.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{KJ:()=>IconMenuComponent,eA:()=>IconMenuItem,PI:()=>openDirections});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var icon_menu_componentngResource=__webpack_require__("./projects/cue-ui/src/lib/components/icon-menu.component.scss?ngResource"),icon_menu_componentngResource_default=__webpack_require__.n(icon_menu_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),private_export_faY_wCkZ=__webpack_require__("./node_modules/@angular/animations/fesm2022/private_export-faY_wCkZ.mjs"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),cue_ui=__webpack_require__("./dist/cue-ui/fesm2022/cue-ui.mjs");const openDirections=["left","right","top","down"];class IconMenuItem{icon;label;click;id=(0,v4.A)();clickable=!1;constructor(icon,label,click=null){this.icon=icon,this.label=label,this.click=click,this.clickable=null!==click}}let IconMenuComponent=class IconMenuComponent{menuItems=core.input.required();openDirection=(0,core.input)("right");labelPosition=(0,core.input)();hideWhenNotHovered=(0,core.input)(!1);gap=(0,core.input)(2);size=(0,core.input)("30px");iconSize=(0,core.computed)((()=>`calc(${this.size()} * 0.6)`));distanceBetween=(0,core.computed)((()=>`${20+this.gap()}px`));mainItem=(0,core.computed)((()=>this.menuItems()[0]));otherItems=(0,core.computed)((()=>this.menuItems().slice(1)));flexDirection=(0,core.computed)((()=>["left","right"].includes(this.openDirection())?"row":"column"));tooltipPlacement=(0,core.linkedSignal)((()=>{if(void 0!==this.labelPosition())return this.labelPosition();const od=this.openDirection();return"left"===od||"right"===od?"bottom":"right"}));isExpanded=(0,core.signal)(!1);hidden=(0,core.linkedSignal)((()=>!!this.hideWhenNotHovered()));mainIconDisabled=(0,core.computed)((()=>!(!this.isExpanded()||this.mainItem().clickable)));hovered;getTransform(i){return{right:`translateX(calc((${1.2*i} * ${this.size()}) + 0px)`,left:`translateX(calc((-${1.2*i} * ${this.size()}) - 0px)`,top:`translateY(calc((-${1.2*i} * ${this.size()}) - 0px)`,down:`translateY(calc((${1.2*i} * ${this.size()}) + 0px)`}[this.openDirection()]}onMouseEnter(){this.isExpanded.set(!0);const timer=setInterval((()=>{void 0===this.hovered&&(this.isExpanded.set(!1),this.hideWhenNotHovered()&&this.hidden.set(!0),clearInterval(timer))}),1e3)}handleClick(idx){this.isExpanded.set(!1),this.hideWhenNotHovered()&&this.hidden.set(!0);const clickFunction=this.menuItems()[idx].click;clickFunction&&clickFunction()}onContainerHovered(){this.hideWhenNotHovered()&&this.hidden.set(!1)}static propDecorators={menuItems:[{type:core.Input,args:[{isSignal:!0,alias:"menuItems",required:!0,transform:void 0}]}],openDirection:[{type:core.Input,args:[{isSignal:!0,alias:"openDirection",required:!1,transform:void 0}]}],labelPosition:[{type:core.Input,args:[{isSignal:!0,alias:"labelPosition",required:!1,transform:void 0}]}],hideWhenNotHovered:[{type:core.Input,args:[{isSignal:!0,alias:"hideWhenNotHovered",required:!1,transform:void 0}]}],gap:[{type:core.Input,args:[{isSignal:!0,alias:"gap",required:!1,transform:void 0}]}],size:[{type:core.Input,args:[{isSignal:!0,alias:"size",required:!1,transform:void 0}]}]}};IconMenuComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"cue-icon-menu",template:'<div\n  class="container"\n  [style.flex-direction]="flexDirection()"\n  [style.gap]="gap()"\n  [style.width]="size()"\n  [style.height]="size()"\n  (mouseenter)="onContainerHovered()"\n>\n  @if(!hidden()){\n  \x3c!-- Main icon (unchanged) --\x3e\n  <div\n    class="btn"\n    (mouseenter)="onMouseEnter()"\n    (mouseover)="hovered = mainItem().id"\n    (mouseleave)="hovered = undefined"\n  >\n    <button\n      mat-mini-fab\n      aria-label="Select"\n      [style.width]="size()"\n      [style.height]="size()"\n      [style.line-height]="size()"\n      [disabled]="mainIconDisabled()"\n      [cueTooltip]="mainIconDisabled() ? \'\' : mainItem().label"\n      [tooltipPlacement]="tooltipPlacement()"\n      (click)="handleClick(0)"\n    >\n      <mat-icon\n        [style.font-size]="iconSize()"\n        [style.line-height]="iconSize()"\n        [style.width]="iconSize()"\n        [style.height]="iconSize()"\n        >{{ mainItem().icon }}</mat-icon\n      >\n    </button>\n  </div>\n\n  \x3c!-- Remaining items --\x3e\n  @if(isExpanded() && otherItems().length){\n  <div\n    class="icon-container"\n    [@iconAnimation]="isExpanded() ? \'visible\' : \'hidden\'"\n  >\n    @for(item of otherItems(); track item.id; let idx = $index){\n    <div\n      class="btn delayed"\n      (mouseover)="hovered = item.id"\n      (mouseleave)="hovered = undefined"\n      [style.transform]="getTransform(idx + 1)"\n    >\n      <button\n        mat-mini-fab\n        aria-label="Select"\n        [style.width]="size()"\n        [style.height]="size()"\n        [style.line-height]="size()"\n        [cueTooltip]="item.label"\n        [tooltipPlacement]="tooltipPlacement()"\n        (click)="handleClick(idx + 1)"\n      >\n        <mat-icon\n          [style.font-size]="iconSize()"\n          [style.line-height]="iconSize()"\n          [style.width]="iconSize()"\n          [style.height]="iconSize()"\n          >{{ item.icon }}</mat-icon\n        >\n      </button>\n    </div>\n    }\n    <div [style.transform]="getTransform(menuItems().length)" class="delayed">\n      <ng-content></ng-content>\n    </div>\n  </div>\n  } }\n</div>\n',imports:[fesm2022_button.Hl,icon.m_,cue_ui.dg],animations:[(0,private_export_faY_wCkZ.hZ)("iconAnimation",[(0,private_export_faY_wCkZ.kY)(":enter",[(0,private_export_faY_wCkZ.P)(".delayed",[(0,private_export_faY_wCkZ.iF)({opacity:0}),(0,private_export_faY_wCkZ.yc)(100,[(0,private_export_faY_wCkZ.i0)("300ms ease-in",(0,private_export_faY_wCkZ.iF)({opacity:1}))])])]),(0,private_export_faY_wCkZ.kY)(":leave",[(0,private_export_faY_wCkZ.P)(".delayed",[(0,private_export_faY_wCkZ.yc)(-100,[(0,private_export_faY_wCkZ.i0)("300ms ease-in",(0,private_export_faY_wCkZ.iF)({opacity:0}))])])])])],styles:[icon_menu_componentngResource_default()]})],IconMenuComponent)},"./projects/cue-ui/src/lib/components/table-cell.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>TableCellComponent,a:()=>displayTypes});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),table_cell_component=__webpack_require__("./projects/cue-ui/src/lib/components/table-cell.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAgIC5jb2xvciB7CiAgICAgICAgaGVpZ2h0OiAxMnB4OwogICAgICAgIHdpZHRoOiAxMnB4OwogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmY7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICB9CiAgICAgIC5jb250YWluZXIgewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWN1ZS1mb250LWZhbWlseSk7CiAgICAgICAgLS1tYXQtdGFibGUtYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTsKICAgICAgICAtLW1hdC1wYWdpbmF0b3ItY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7CiAgICAgIH0KICAgICAgOjpuZy1kZWVwIC5yaWdodC1hbGlnbmVkIHsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgICB9CiAgICAgIDo6bmctZGVlcCAubGVmdC1hbGlnbmVkIHsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7CiAgICAgIH0KICAgICAgOjpuZy1kZWVwIC5jZW50ZXItYWxpZ25lZCB7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgIH0KICAgIA%3D%3D!./projects/cue-ui/src/lib/components/table-cell.component.ts"),table_cell_component_default=__webpack_require__.n(table_cell_component),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_checkbox=__webpack_require__("./node_modules/@angular/material/fesm2022/checkbox.mjs");let TruncateDirective=class TruncateDirective{el;renderer;truncateLength=20;originalText="";isTruncated=!0;constructor(el,renderer){this.el=el,this.renderer=renderer}ngOnInit(){this.originalText=this.el.nativeElement.innerText,this.truncateText()}onClick(){this.isTruncated=!this.isTruncated,this.truncateText()}truncateText(){const displayText=this.isTruncated&&this.originalText.length>this.truncateLength?this.originalText.substr(0,this.truncateLength)+"...":this.originalText;this.renderer.setProperty(this.el.nativeElement,"innerText",displayText),this.renderer.setProperty(this.el.nativeElement,"title",this.originalText)}static ctorParameters=()=>[{type:core.ElementRef},{type:core.Renderer2}];static propDecorators={truncateLength:[{type:core.Input}],onClick:[{type:core.HostListener,args:["click"]}]}};TruncateDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"[cueTruncate]"})],TruncateDirective);const displayTypes=["DEFAULT","CHECKBOX","COLOR","HTMLELEMENT","TRUNCATED"];let TableCellComponent=class TableCellComponent{value=core.input.required();valueType=(0,core.input)("DEFAULT");contentAlignment=(0,core.input)("left");editable=(0,core.input)(!0);valueChange=(0,core.output)();_htmlAppended=!1;set cell(content){if(content&&"HTMLELEMENT"===this.valueType()&&!this._htmlAppended){let htmlElement=this.value();if("string"==typeof htmlElement){const stringValue=htmlElement;htmlElement=document.createElement("div"),htmlElement.innerHTML=stringValue}content.nativeElement.appendChild(htmlElement),this._htmlAppended=!0}}handleValueChange(newValue){this.valueChange.emit(newValue)}static propDecorators={value:[{type:core.Input,args:[{isSignal:!0,alias:"value",required:!0,transform:void 0}]}],valueType:[{type:core.Input,args:[{isSignal:!0,alias:"valueType",required:!1,transform:void 0}]}],contentAlignment:[{type:core.Input,args:[{isSignal:!0,alias:"contentAlignment",required:!1,transform:void 0}]}],editable:[{type:core.Input,args:[{isSignal:!0,alias:"editable",required:!1,transform:void 0}]}],valueChange:[{type:core.Output,args:["valueChange"]}],cell:[{type:core.ViewChild,args:["cell"]}]}};TableCellComponent=(0,tslib_es6.Cg)([(0,core.Component)({changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"cue-table-cell",imports:[fesm2022_checkbox.g7,TruncateDirective],template:'<div\n    class="container"\n    #cell\n    [class.right-aligned]="contentAlignment() === \'right\'"\n    [class.left-aligned]="contentAlignment() === \'left\'"\n    [class.center-aligned]="contentAlignment() === \'center\'"\n  >\n    @if(valueType() === \'COLOR\'){\n    <div class="color" [style.background-color]="value()"></div>\n    } @else if(valueType() === \'CHECKBOX\'){\n    <mat-checkbox\n      [disabled]="!editable()"\n      [checked]="value()"\n      (change)="handleValueChange($event.checked)"\n    ></mat-checkbox>\n    } @else if(valueType() === \'TRUNCATED\'){\n    <span cueTruncate [truncateLength]="30" [innerHTML]="value()"></span>\n    } @else if(valueType() === \'DEFAULT\'){\n    <span [innerHTML]="value()"></span>\n    }\n  </div> ',styles:[table_cell_component_default()]})],TableCellComponent)},"./projects/cue-ui/src/lib/components/table-cell.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAgIC5jb2xvciB7CiAgICAgICAgaGVpZ2h0OiAxMnB4OwogICAgICAgIHdpZHRoOiAxMnB4OwogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmY7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICB9CiAgICAgIC5jb250YWluZXIgewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWN1ZS1mb250LWZhbWlseSk7CiAgICAgICAgLS1tYXQtdGFibGUtYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTsKICAgICAgICAtLW1hdC1wYWdpbmF0b3ItY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7CiAgICAgIH0KICAgICAgOjpuZy1kZWVwIC5yaWdodC1hbGlnbmVkIHsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgICB9CiAgICAgIDo6bmctZGVlcCAubGVmdC1hbGlnbmVkIHsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7CiAgICAgIH0KICAgICAgOjpuZy1kZWVwIC5jZW50ZXItYWxpZ25lZCB7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgIH0KICAgIA%3D%3D!./projects/cue-ui/src/lib/components/table-cell.component.ts":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"\n      .color {\n        height: 12px;\n        width: 12px;\n        border: 1px solid #fff;\n        border-radius: 5px;\n      }\n      .container {\n        display: flex;\n        font-family: var(--cue-font-family);\n        --mat-table-background-color: rgba(0, 0, 0, 0);\n        --mat-paginator-container-background-color: rgba(0, 0, 0, 0);\n      }\n      ::ng-deep .right-aligned {\n        justify-content: flex-end;\n      }\n      ::ng-deep .left-aligned {\n        justify-content: flex-start;\n      }\n      ::ng-deep .center-aligned {\n        justify-content: center;\n      }\n    ",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/cue-ui/src/lib/components/table.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"/* .selected{\n    font-weight: 500;\n} */\n.container {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  overflow-x: hidden;\n  flex-direction: column;\n}\n\n.table-container {\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: 100%;\n}\n\n::ng-deep .mat-mdc-row.selected {\n  font-weight: 600;\n}\n\n::ng-deep .mat-mdc-row.clickable:hover {\n  font-weight: 600;\n}\n\n.hidden {\n  display: none;\n}\n\n.filter-row {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  gap: 0.6rem;\n  align-items: center;\n  padding-bottom: 0.2rem;\n}\n\n::ng-deep .filter-row .mat-mdc-form-field-subscript-wrapper {\n  height: 0;\n}\n\n.dimmed {\n  opacity: 0.7;\n}\n\n.floating-box {\n  position: fixed;\n  z-index: 1000;\n  white-space: nowrap;\n  transition: top 0.2s ease-in-out;\n}\n\n::ng-deep .right-aligned {\n  text-align: right;\n}\n\n::ng-deep .left-aligned {\n  text-align: left;\n}\n\n::ng-deep .center-aligned {\n  text-align: center;\n}\n\n::ng-deep .right-aligned .mat-sort-header-container {\n  justify-content: flex-end;\n}\n\n::ng-deep .left-aligned .mat-sort-header-container {\n  justify-content: flex-start;\n}\n\n::ng-deep .center-aligned .mat-sort-header-container {\n  justify-content: center;\n}\n\n.paginator {\n  position: sticky;\n  right: 0;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/cue-ui/src/lib/components/table.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Advanced:()=>Advanced,Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>table_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var table_componentngResource=__webpack_require__("./projects/cue-ui/src/lib/components/table.component.scss?ngResource"),table_componentngResource_default=__webpack_require__.n(table_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),table_cell_component=__webpack_require__("./projects/cue-ui/src/lib/components/table-cell.component.ts"),module_BOQEdUAz=__webpack_require__("./node_modules/@angular/material/fesm2022/module-BOQEdUAz.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),resized_directive=__webpack_require__("./projects/cue-ui/src/lib/directives/resized.directive.ts"),tooltip_directive=__webpack_require__("./projects/cue-ui/src/lib/directives/tooltip.directive.ts"),table=__webpack_require__("./node_modules/@angular/material/fesm2022/table.mjs"),paginator=__webpack_require__("./node_modules/@angular/material/fesm2022/paginator.mjs"),sort=__webpack_require__("./node_modules/@angular/material/fesm2022/sort.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),fesm2022_checkbox=__webpack_require__("./node_modules/@angular/material/fesm2022/checkbox.mjs"),common_module_CBrzkrmd=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-CBrzkrmd.mjs"),icon_menu_component=__webpack_require__("./projects/cue-ui/src/lib/components/icon-menu.component.ts"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs");class ColumnDef{key;label;textAlign;type="DEFAULT";editable=!1;tooltip;constructor(key,label,textAlign="left"){this.key=key,this.label=label,this.textAlign=textAlign}}let TableComponent=class TableComponent{columnDefs=[];data;fixedLayout=!0;selectedRow=(0,core.input)();paginate=(0,core.input)(!0);displaySelectColumn=!1;displayFilter=!0;clickableRows=!1;actionItemsMarginRight="50px";tooltipCol=void 0;dimmedCol=void 0;editableCol=void 0;actionItemsCol=void 0;filterLabel="Filter";contentChanged=(0,core.output)();sortUpdated=(0,core.output)();cellValueChange=(0,core.output)();selectionChange=(0,core.output)();clickedRow=(0,core.output)();dataSource=new table.I6;sort;set paginator(paginator){this.dataSource.paginator=paginator,this.dataSource.sort=this.sort,this.dataSource.data=this._prepareData()}displayedColumns=[];originalData=[];selection={};filterStr="";pageSizeOptions=[5,10,20];filterVisible=!1;hoveredRow=null;floatingBoxStyle={};rowHeight=(0,core.signal)(0);tableHeight=(0,core.signal)(0);pageSize=(0,core.computed)((()=>{if(0===this.tableHeight())return 5;const toFit=(this.tableHeight()-30)/this.rowHeight(),closestOption=this.pageSizeOptions.slice().reverse().find((option=>option<=toFit));return console.log(closestOption),closestOption??5}));hidePageSize=(0,core.computed)((()=>this.data.length<=this.pageSize()));showPaginator=(0,core.linkedSignal)((()=>(console.log(this.data.length<=this.pageSize()),!(this.data.length<=this.pageSize())&&this.paginate())));ngOnChanges(changes){changes.data.isFirstChange()||(this.dataSource.data=this._prepareData(),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator)}applyFilter(event){if(void 0===this.dataSource)return;const filterValue=event.target.value;this.dataSource.filter=filterValue.trim().toLowerCase()}onSortChange(sortState){this.sortUpdated.emit(sortState)}onCellValueChange(key,row,newValue){const previousValue=row[key];row[key]=newValue;if("selectCol"===key){row.selectCol?this.selection[key].push(row):this.selection[key]=this.selection[key].filter((item=>item.index!==row.index)),this.selectionChange.emit()}else{const newValue=row[key];delete newValue.index,delete newValue.selectCol;const change={previousValue,newValue,index:row.index,key};this.cellValueChange.emit(change)}this.contentChanged.emit(this.data)}toggleAllSelected(columnKey){Object.keys(this.selection).includes(columnKey)||(this.selection[columnKey]=[]),this.selection[columnKey].length?(this.selection[columnKey]=[],this.dataSource?.data.forEach((item=>{item[columnKey]=!1}))):(this.selection[columnKey]=this.data,this.dataSource?.data.forEach((item=>{item[columnKey]=!0}))),this.selectionChange.emit(),this.contentChanged.emit(this.data)}handleRowClick(row){this.clickableRows&&this.selectedRow()!==row.id&&this.clickedRow.emit(row)}showFloatingBox(event,row){const rect=event.target.getBoundingClientRect();this.hoveredRow=row;const center=rect.top+rect.height/2-24;this.floatingBoxStyle={top:`${center+window.scrollY}px`,right:this.actionItemsMarginRight},setTimeout((()=>{this.hoveredRow=null}),100)}tableResized(ev){const h=ev.newRect.height;console.log(h),h!==this.tableHeight()&&this.tableHeight.set(h)}rowResized(ev){const h=ev.newRect.height;h!==this.rowHeight()&&this.rowHeight.set(h)}onWindowScroll(){this.hoveredRow=null}_setInitialSelection(){const selectRowKeys=this.columnDefs.filter((cd=>"CHECKBOX"===cd.type)).map((cd=>(this.selection[cd.key]=[],cd.key)));this.data.forEach((d=>{selectRowKeys.forEach((k=>{d[k]&&this.selection[k].push(d)}))}))}_prepareData(){return this.originalData=Object.assign({},this.data),this.displayedColumns=this.columnDefs.map((d=>d.key)),this._appendIndexCol(),this._setInitialSelection(),this.displaySelectColumn&&this._appendSelectColumn(),this.data}_appendIndexCol(){this.data=this.data.map(((item,i)=>(item.index=i,item)))}_appendSelectColumn(){this.displayedColumns.unshift("selectCol"),this.data=this.data.map((item=>(item.selectCol=!1,item)));const cd=new ColumnDef("selectCol","Select");cd.type="CHECKBOX",cd.editable=!0,this.columnDefs.unshift(cd)}static propDecorators={columnDefs:[{type:core.Input}],data:[{type:core.Input}],fixedLayout:[{type:core.Input}],selectedRow:[{type:core.Input,args:[{isSignal:!0,alias:"selectedRow",required:!1,transform:void 0}]}],paginate:[{type:core.Input,args:[{isSignal:!0,alias:"paginate",required:!1,transform:void 0}]}],displaySelectColumn:[{type:core.Input}],displayFilter:[{type:core.Input}],clickableRows:[{type:core.Input}],actionItemsMarginRight:[{type:core.Input}],tooltipCol:[{type:core.Input}],dimmedCol:[{type:core.Input}],editableCol:[{type:core.Input}],actionItemsCol:[{type:core.Input}],filterLabel:[{type:core.Input}],contentChanged:[{type:core.Output,args:["contentChanged"]}],sortUpdated:[{type:core.Output,args:["sortUpdated"]}],cellValueChange:[{type:core.Output,args:["cellValueChange"]}],selectionChange:[{type:core.Output,args:["selectionChange"]}],clickedRow:[{type:core.Output,args:["clickedRow"]}],sort:[{type:core.ViewChild,args:[sort.B4]}],paginator:[{type:core.ViewChild,args:[paginator.iy]}],onWindowScroll:[{type:core.HostListener,args:["wheel",[]]}]}};TableComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"cue-table",imports:[common_module_CBrzkrmd.MD,module_BOQEdUAz.R,input.fS,icon.m_,resized_directive.C,table.tP,paginator.Ou,sort.NQ,fesm2022_forms.YN,fesm2022_checkbox.g7,table_cell_component.U,tooltip_directive.d,icon_menu_component.KJ,fesm2022_button.Hl],template:'<div\n  *ngIf="dataSource"\n  class="container"\n  id="simple-table"\n  cueResized\n  (resized)="tableResized($event)"\n>\n  \x3c!-- FILTER --\x3e\n  @if(displayFilter){\n  <div class="filter-row">\n    @if(!filterVisible){\n    <span style="flex: 1"></span>\n    <button\n      mat-icon-button\n      aria-label="Show filter"\n      (click)="filterVisible = true"\n    >\n      <mat-icon>filter_alt</mat-icon>\n    </button>\n    } @if(filterVisible){\n    <mat-form-field style="width: 100%" floatLabel="always">\n      <mat-label>{{ filterLabel }}</mat-label>\n      <input\n        matInput\n        (keyup)="applyFilter($event)"\n        [(ngModel)]="filterStr"\n        [placeholder]="filterLabel"\n        subscriptSizing="dynamic"\n      />\n    </mat-form-field>\n    <button\n      mat-icon-button\n      aria-label="Hide filter"\n      (click)="filterVisible = false"\n    >\n      <mat-icon>filter_alt_off</mat-icon>\n    </button>\n    }\n  </div>\n  }\n\n  <div class="table-container">\n    <table\n      mat-table\n      [dataSource]="dataSource"\n      class="mat-elevation-z8"\n      matSort\n      [fixedLayout]="fixedLayout"\n      (matSortChange)="onSortChange($event)"\n    >\n      @for (key of displayedColumns; track key; let index = $index) {\n      <ng-container [matColumnDef]="key">\n        \x3c!-- REGULAR HEADER --\x3e\n        <ng-container *ngIf="columnDefs[index].type !== \'CHECKBOX\'">\n          <th\n            mat-header-cell\n            *matHeaderCellDef\n            mat-sort-header\n            [class.right-aligned]="columnDefs[index][\'textAlign\'] === \'right\'"\n            [class.left-aligned]="columnDefs[index][\'textAlign\'] === \'left\'"\n            [class.center-aligned]="columnDefs[index][\'textAlign\'] === \'center\'"\n          >\n            {{ columnDefs[index]["label"] }}\n          </th>\n        </ng-container>\n\n        \x3c!-- CHECKBOX HEADER --\x3e\n        <ng-container *ngIf="columnDefs[index].type === \'CHECKBOX\'">\n          <th mat-header-cell *matHeaderCellDef>\n            <div\n              [class.right-aligned]="columnDefs[index][\'textAlign\'] === \'right\'"\n              [class.left-aligned]="columnDefs[index][\'textAlign\'] === \'left\'"\n              [class.center-aligned]="\n                columnDefs[index][\'textAlign\'] === \'center\'\n              "\n            >\n              <span>{{ columnDefs[index]["label"] }}</span>\n              <mat-checkbox\n                [disabled]="!columnDefs[index].editable"\n                [checked]="\n                  selection[key] && selection[key].length === data.length\n                "\n                (click)="toggleAllSelected(key)"\n              ></mat-checkbox>\n            </div>\n          </th>\n        </ng-container>\n\n        <td\n          cueResized\n          (resized)="rowResized($event)"\n          mat-cell\n          *matCellDef="let element"\n        >\n          <cue-table-cell\n            [value]="element[key]"\n            [valueType]="columnDefs[index].type"\n            [editable]="\n              editableCol !== undefined\n                ? element[editableCol]\n                : columnDefs[index].editable\n            "\n            [contentAlignment]="columnDefs[index].textAlign"\n            (valueChange)="onCellValueChange(key, element, $event)"\n          ></cue-table-cell>\n        </td>\n      </ng-container>\n      }\n\n      \x3c!-- Header --\x3e\n      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n\n      \x3c!-- General Rows --\x3e\n      <tr\n        style="position: relative"\n        class="mat-row"\n        mat-row\n        *matRowDef="let row; columns: displayedColumns"\n        [class.clickable]="clickableRows && selectedRow() !== row.id"\n        [class.selected]="selectedRow() && selectedRow() === row.id"\n        (click)="handleRowClick(row)"\n        [cueTooltip]="tooltipCol !== undefined ? row[tooltipCol] : \'\'"\n        [class.dimmed]="dimmedCol !== undefined ? row[dimmedCol] : \'\'"\n        (mouseenter)="showFloatingBox($event, row)"\n      >\n        >\n      </tr>\n\n      \x3c!-- Row shown when there is no matching data. --\x3e\n      <tr class="mat-row" *matNoDataRow>\n        <td class="mat-cell" colspan="4" *ngIf="filterStr">\n          No data matching the filter "{{ filterStr }}"\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <div style="flex-grow: 1; background-color: var(--mat-sys-surface)"></div>\n\n  @if(showPaginator()){\n  <mat-paginator\n    class="paginator"\n    [pageSizeOptions]="pageSizeOptions"\n    [hidePageSize]="hidePageSize()"\n    [pageSize]="pageSize()"\n    showFirstLastButtons\n    panelClass="frosted"\n    aria-label="Select page of periodic elements"\n  >\n  </mat-paginator>\n  }\n</div>\n\n\x3c!-- Floating Box --\x3e\n<div class="floating-box" *ngIf="hoveredRow" [ngStyle]="floatingBoxStyle">\n  @if(actionItemsCol !== undefined && hoveredRow[actionItemsCol]){\n  <cue-icon-menu\n    [menuItems]="hoveredRow[actionItemsCol]"\n    openDirection="left"\n  ></cue-icon-menu>\n  }\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[table_componentngResource_default()]})],TableComponent);const table_stories={title:"Table",component:TableComponent,tags:["autodocs"],argTypes:{}},data=[{id:"1",name:"Mads",lastName:"Rasmussen",halfWayToHundred:!1,avatarColor:"#72818C"},{id:"2",name:"Christian",lastName:"Frausing",halfWayToHundred:!1,avatarColor:"#333333"},{id:"3",name:"Manos",lastName:"Argyris",halfWayToHundred:!1,avatarColor:"#FF0305"},{id:"4",name:"Philipp",lastName:"Dohmen",halfWayToHundred:!0,avatarColor:"#DD4535"}],Default={args:{data,columnDefs:[new ColumnDef("name","Name","left")]}},lastNameDef=new ColumnDef("lastName","Last Name","right");lastNameDef.editable=!0;const hundredDef=new ColumnDef("halfWayToHundred","Â½-hundred","right");hundredDef.type="CHECKBOX";const colorDef=new ColumnDef("avatarColor","Avatar color","center");colorDef.type="COLOR";const Advanced={args:{data,columnDefs:[new ColumnDef("name","Name","left"),lastNameDef,hundredDef,colorDef]}},__namedExportsOrder=["Default","Advanced"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    data,\n    columnDefs\n  }\n}",...Default.parameters?.docs?.source}}},Advanced.parameters={...Advanced.parameters,docs:{...Advanced.parameters?.docs,source:{originalSource:"{\n  args: {\n    data,\n    columnDefs: columnDefsAdv\n  }\n}",...Advanced.parameters?.docs?.source}}}},"./projects/cue-ui/src/lib/directives/resized.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>ResizedDirective});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");class ResizedEvent{newRect;oldRect;isFirst;constructor(newRect,oldRect){this.newRect=newRect,this.oldRect=oldRect,this.isFirst=null==oldRect}}let ResizedDirective=class ResizedDirective{element;zone;observer;oldRect;resized;constructor(element,zone){this.element=element,this.zone=zone,this.resized=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.observer=new ResizeObserver((entries=>this.zone.run((()=>this.observe(entries)))))}ngOnInit(){this.observer.observe(this.element.nativeElement)}ngOnDestroy(){this.observer.disconnect()}observe(entries){const domSize=entries[0],resizedEvent=new ResizedEvent(domSize.contentRect,this.oldRect);this.oldRect=domSize.contentRect,this.resized.emit(resizedEvent)}static ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone}];static propDecorators={resized:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]}};ResizedDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({standalone:!0,selector:"[cueResized]"})],ResizedDirective)},"./projects/cue-ui/src/lib/directives/tooltip.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>TooltipDirective});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),tippy_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tippy.js/dist/tippy.esm.js"),_shared_colors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./projects/cue-ui/src/lib/shared/colors.ts");let TooltipDirective=class TooltipDirective{_el=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef);cueTooltip=_angular_core__WEBPACK_IMPORTED_MODULE_0__.input.required();tooltipPlacement=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(void 0);tooltipColor=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)("primary");tooltipSize=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)("medium");_colorVar=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>`var(--cue-${this.tooltipColor()})`));_textColor=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>`var(--cue-${_shared_colors__WEBPACK_IMPORTED_MODULE_1__.Jb.get(this.tooltipColor())??"extra-light-gray"})`));_style=document.createElement("style");_tippyInstance;_options={animation:"shift-away",theme:"cue"};updateStylesOnColorChange=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.effect)((()=>{this._updateStyles(this._colorVar(),this._textColor(),this.tooltipSize())}));ngOnInit(){this._initializeTippy(this.cueTooltip()),document.head.appendChild(this._style)}onContentUpdated=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.effect)((()=>{this._updateTippy(this.cueTooltip(),this.tooltipPlacement())}));onPlacementUpdated=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.effect)((()=>{this.tooltipPlacement(),this._updateTippy(this.cueTooltip(),this.tooltipPlacement())}));ngOnDestroy(){this._tippyInstance&&this._tippyInstance.destroy()}_updateStyles(bgColor,textColor,size){const fontSize="small"===size?"0.7rem":"large"===size?"1rem":"0.75rem",padding="small"===size?"1px":"large"===size?"4px":"2px";this._style.textContent=`\n      .tippy-box[data-theme~='cue'] {\n        background-color: ${bgColor};\n        color: ${textColor};\n        border-radius: 4px;\n        font-family: var(--cue-font-family);\n        font-size: ${fontSize};\n        padding: ${padding};\n      }\n      .tippy-box[data-theme~='cue'] .tippy-arrow {\n        color: ${bgColor};\n      }\n    `}_initializeTippy(content){content&&(this._tippyInstance=(0,tippy_js__WEBPACK_IMPORTED_MODULE_2__.Ay)(this._el.nativeElement,{content,...this._options}))}_updateTippy(content,placement){content&&this._tippyInstance&&this._tippyInstance.setProps({content,placement,...this._options})}static propDecorators={cueTooltip:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"cueTooltip",required:!0,transform:void 0}]}],tooltipPlacement:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"tooltipPlacement",required:!1,transform:void 0}]}],tooltipColor:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"tooltipColor",required:!1,transform:void 0}]}],tooltipSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"tooltipSize",required:!1,transform:void 0}]}]}};TooltipDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({selector:"[cueTooltip]"})],TooltipDirective)},"./projects/cue-ui/src/lib/shared/colors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Jb:()=>contrastColors,QD:()=>allColors,bE:()=>cardColors,vx:()=>buttonColors});const allColors=["primary","secondary","accent","success","error","warning","info","light-gray","extra-light-gray"],buttonColors=["primary","accent","extra-light-gray","secondary"],cardColors=["primary","accent","extra-light-gray","secondary"],contrastColors=new Map([["primary","extra-light-gray"],["accent","secondary"],["secondary","extra-light-gray"],["info","extra-light-gray"],["error","extra-light-gray"],["success","secondary"],["warning","secondary"],["extra-light-gray","secondary"]])}}]);